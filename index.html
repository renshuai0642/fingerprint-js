<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="./public/favicon.ico" type="image/x-icon">
    <title>WebAssembly</title>
  </head>
  <body>
    <div id="app"></div>
    <script src="./public/fibonacci/fibonacci.js"></script>
    <script>
        // Load the WebAssembly module
        Module.onRuntimeInitialized = function() {
              function fibonacciJs(n) {
                if(n<=1) {
                  return n
                }
                return fibonacciJs(n-1) + fibonacciJs(n-2)
              }

              const num = 40;

              const startCpp = performance.now()
              const resultCpp = Module._fibonacci(num);
              const endCpp = performance.now()

              const startJs = performance.now()
              const resultJs = fibonacciJs(num);
              const endJs = performance.now()

              console.log("ðŸš€ðŸš€ðŸš€ ----------------------------ðŸš€ðŸš€ðŸš€");
              console.log("ðŸš€ðŸš€ðŸš€  resultCppðŸš€ðŸš€ðŸš€", `${resultCpp}:${endCpp-startCpp}`);
              console.log("ðŸš€ðŸš€ðŸš€  resultJsðŸš€ðŸš€ðŸš€", `${resultJs}:${endJs-startJs}`);
              console.log("ðŸš€ðŸš€ðŸš€ ----------------------------ðŸš€ðŸš€ðŸš€");
        };
    </script>
  </body>
</html>
